"use strict";(()=>{var e={};e.id=130,e.ids=[130,888,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},115:(e,t,s)=>{s.r(t),s.d(t,{config:()=>g,default:()=>h,getServerSideProps:()=>f,getStaticPaths:()=>y,getStaticProps:()=>j,reportWebVitals:()=>b,routeModule:()=>_,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>N});var a={};s.r(a),s.d(a,{default:()=>u});var r=s(7093),d=s(5244),l=s(1323),n=s(2899),i=s.n(n),c=s(2351),x=s(997),o=s(968),m=s.n(o),p=s(6689);function u(){let[e,t]=(0,p.useState)("dashboard"),[s,a]=(0,p.useState)(null),[r,d]=(0,p.useState)([]),[l,n]=(0,p.useState)([]),[i,c]=(0,p.useState)([]),[o,u]=(0,p.useState)([]),[h,j]=(0,p.useState)(!0),[y,f]=(0,p.useState)(!1),[g,b]=(0,p.useState)(null),N=async()=>{if(j(!0),"dashboard"===e){let e=await fetch("/api/admin/secret?type=stats");a(await e.json())}else if("users"===e){let e=await fetch("/api/admin/secret?type=users");d(await e.json())}else if("orders"===e){let e=await fetch("/api/admin/secret?type=orders");n(await e.json())}else if("products"===e){let e=await fetch("/api/admin/secret?type=products");c(await e.json())}j(!1)},v=async(e,t)=>{await fetch("/api/admin/secret",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,data:t})}),N()},w=async e=>{e.preventDefault();let t=new FormData(e.target),s={name:t.get("name"),slug:t.get("slug"),description:t.get("description"),price:parseFloat(t.get("price")),stock:parseInt(t.get("stock")),category_id:parseInt(t.get("category_id")),image_url:t.get("image_url"),featured:"on"===t.get("featured")};g?(s.id=g.id,await v("update-product",s)):await v("add-product",s),f(!1),b(null)},P=e=>({pending:"bg-yellow-100 text-yellow-700",processing:"bg-blue-100 text-blue-700",shipped:"bg-purple-100 text-purple-700",delivered:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700"})[e]||"bg-gray-100 text-gray-700";return(0,x.jsxs)(x.Fragment,{children:[x.jsx(m(),{children:x.jsx("title",{children:"Secret Admin Panel - Melodic"})}),(0,x.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[x.jsx("div",{className:"bg-red-600 text-white text-center py-2 text-sm font-medium",children:"⚠️ SECRET ADMIN PANEL - NO AUTHENTICATION REQUIRED ⚠️"}),(0,x.jsxs)("div",{className:"flex",children:[(0,x.jsxs)("aside",{className:"w-64 bg-secondary-900 min-h-screen p-4",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2 mb-8 px-2",children:[x.jsx("svg",{className:"w-8 h-8 text-primary-500",fill:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})}),x.jsx("span",{className:"text-xl font-display font-bold text-white",children:"Admin"})]}),x.jsx("nav",{className:"space-y-1",children:[{id:"dashboard",name:"Dashboard",icon:"\uD83D\uDCCA"},{id:"users",name:"Users",icon:"\uD83D\uDC65"},{id:"orders",name:"Orders",icon:"\uD83D\uDCE6"},{id:"products",name:"Products",icon:"\uD83C\uDFB8"}].map(s=>(0,x.jsxs)("button",{onClick:()=>t(s.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${e===s.id?"bg-primary-600 text-white":"text-secondary-300 hover:bg-secondary-800"}`,children:[x.jsx("span",{children:s.icon}),x.jsx("span",{children:s.name})]},s.id))})]}),x.jsx("main",{className:"flex-1 p-8",children:h?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):(0,x.jsxs)(x.Fragment,{children:["dashboard"===e&&s&&(0,x.jsxs)("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-8",children:"Dashboard"}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,x.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[x.jsx("p",{className:"text-secondary-500 text-sm",children:"Total Users"}),x.jsx("p",{className:"text-3xl font-bold text-secondary-900 mt-1",children:s.totalUsers})]}),(0,x.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[x.jsx("p",{className:"text-secondary-500 text-sm",children:"Total Orders"}),x.jsx("p",{className:"text-3xl font-bold text-secondary-900 mt-1",children:s.totalOrders})]}),(0,x.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[x.jsx("p",{className:"text-secondary-500 text-sm",children:"Total Revenue"}),(0,x.jsxs)("p",{className:"text-3xl font-bold text-secondary-900 mt-1",children:["$",s.totalRevenue?.toLocaleString()||0]})]}),(0,x.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[x.jsx("p",{className:"text-secondary-500 text-sm",children:"Total Products"}),x.jsx("p",{className:"text-3xl font-bold text-secondary-900 mt-1",children:s.totalProducts})]})]}),(0,x.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[x.jsx("h2",{className:"text-lg font-semibold text-secondary-900 mb-4",children:"Recent Orders"}),x.jsx("div",{className:"space-y-4",children:s.recentOrders?.map(e=>x.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-medium text-secondary-900",children:["Order #",e.id]}),x.jsx("p",{className:"text-sm text-secondary-500",children:e.email})]}),x.jsxs("div",{className:"text-right",children:[x.jsxs("p",{className:"font-medium text-secondary-900",children:["$",e.total?.toLocaleString()]}),x.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${P(e.status)}`,children:e.status})]})]},e.id))})]})]}),"users"===e&&(0,x.jsxs)("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-8",children:"Users"}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(0,x.jsxs)("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50",children:(0,x.jsxs)("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"ID"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Email"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Name"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Admin"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(e=>(0,x.jsxs)("tr",{children:[x.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900",children:e.id}),x.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900",children:e.email}),(0,x.jsxs)("td",{className:"px-6 py-4 text-sm text-secondary-900",children:[e.first_name," ",e.last_name]}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.is_admin?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.is_admin?"Yes":"No"})}),(0,x.jsxs)("td",{className:"px-6 py-4 space-x-2",children:[x.jsx("button",{onClick:()=>v("toggle-admin",{userId:e.id}),className:"text-primary-600 hover:underline text-sm",children:"Toggle Admin"}),x.jsx("button",{onClick:()=>v("delete-user",{userId:e.id}),className:"text-red-600 hover:underline text-sm",children:"Delete"})]})]},e.id))})]})})]}),"orders"===e&&(0,x.jsxs)("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-8",children:"Orders"}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(0,x.jsxs)("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50",children:(0,x.jsxs)("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"ID"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Customer"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Total"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Date"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(e=>(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"px-6 py-4 text-sm text-secondary-900",children:["#",e.id]}),x.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900",children:e.user_email||"Guest"}),(0,x.jsxs)("td",{className:"px-6 py-4 text-sm font-medium text-secondary-900",children:["$",e.total?.toLocaleString()]}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-2 py-1 text-xs rounded-full capitalize ${P(e.status)}`,children:e.status})}),x.jsx("td",{className:"px-6 py-4 text-sm text-secondary-500",children:new Date(e.created_at).toLocaleDateString()}),x.jsx("td",{className:"px-6 py-4",children:(0,x.jsxs)("select",{value:e.status,onChange:t=>v("update-order-status",{orderId:e.id,status:t.target.value}),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[x.jsx("option",{value:"pending",children:"Pending"}),x.jsx("option",{value:"processing",children:"Processing"}),x.jsx("option",{value:"shipped",children:"Shipped"}),x.jsx("option",{value:"delivered",children:"Delivered"}),x.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]},e.id))})]})})]}),"products"===e&&(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[x.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Products"}),x.jsx("button",{onClick:()=>{b(null),f(!0)},className:"btn-primary",children:"Add Product"})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(0,x.jsxs)("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50",children:(0,x.jsxs)("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Product"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Price"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Stock"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Featured"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(e=>(0,x.jsxs)("tr",{children:[x.jsx("td",{className:"px-6 py-4",children:(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[x.jsx("img",{src:e.image_url,alt:"",className:"w-10 h-10 rounded object-cover"}),(0,x.jsxs)("div",{children:[x.jsx("p",{className:"font-medium text-secondary-900",children:e.name}),x.jsx("p",{className:"text-xs text-secondary-500",children:e.slug})]})]})}),(0,x.jsxs)("td",{className:"px-6 py-4 text-sm font-medium text-secondary-900",children:["$",e.price?.toLocaleString()]}),x.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900",children:e.stock}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.featured?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.featured?"Yes":"No"})}),(0,x.jsxs)("td",{className:"px-6 py-4 space-x-2",children:[x.jsx("button",{onClick:()=>{b(e),f(!0)},className:"text-primary-600 hover:underline text-sm",children:"Edit"}),x.jsx("button",{onClick:()=>v("delete-product",{productId:e.id}),className:"text-red-600 hover:underline text-sm",children:"Delete"})]})]},e.id))})]})})]})]})})]}),y&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,x.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-lg max-h-[90vh] overflow-auto p-6",children:[x.jsx("h2",{className:"text-xl font-bold text-secondary-900 mb-6",children:g?"Edit Product":"Add New Product"}),(0,x.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,x.jsxs)("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Name"}),x.jsx("input",{name:"name",defaultValue:g?.name,required:!0,className:"input-field"})]}),(0,x.jsxs)("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Slug"}),x.jsx("input",{name:"slug",defaultValue:g?.slug,required:!0,className:"input-field"})]}),(0,x.jsxs)("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Description"}),x.jsx("textarea",{name:"description",defaultValue:g?.description,rows:3,className:"input-field"})]}),(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,x.jsxs)("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Price"}),x.jsx("input",{name:"price",type:"number",step:"0.01",defaultValue:g?.price,required:!0,className:"input-field"})]}),(0,x.jsxs)("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Stock"}),x.jsx("input",{name:"stock",type:"number",defaultValue:g?.stock||0,required:!0,className:"input-field"})]})]}),(0,x.jsxs)("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Category"}),x.jsx("select",{name:"category_id",defaultValue:g?.category_id,className:"input-field",children:o.map(e=>x.jsx("option",{value:e.id,children:e.name},e.id))})]}),(0,x.jsxs)("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Image URL"}),x.jsx("input",{name:"image_url",defaultValue:g?.image_url,className:"input-field"})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[x.jsx("input",{name:"featured",type:"checkbox",defaultChecked:g?.featured,id:"featured"}),x.jsx("label",{htmlFor:"featured",className:"text-sm text-secondary-700",children:"Featured Product"})]}),(0,x.jsxs)("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{type:"submit",className:"btn-primary flex-1",children:g?"Update":"Create"}),x.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn-outline flex-1",children:"Cancel"})]})]})]})})]})]})}let h=(0,l.l)(a,"default"),j=(0,l.l)(a,"getStaticProps"),y=(0,l.l)(a,"getStaticPaths"),f=(0,l.l)(a,"getServerSideProps"),g=(0,l.l)(a,"config"),b=(0,l.l)(a,"reportWebVitals"),N=(0,l.l)(a,"unstable_getStaticProps"),v=(0,l.l)(a,"unstable_getStaticPaths"),w=(0,l.l)(a,"unstable_getStaticParams"),P=(0,l.l)(a,"unstable_getServerProps"),S=(0,l.l)(a,"unstable_getServerSideProps"),_=new r.PagesRouteModule({definition:{kind:d.x.PAGES,page:"/secret-admin",pathname:"/secret-admin",bundlePath:"",filename:""},components:{App:c.default,Document:i()},userland:a})},5244:(e,t)=>{var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[567,424,899,245],()=>s(115));module.exports=a})();