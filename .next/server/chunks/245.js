exports.id=245,exports.ids=[245],exports.modules={4309:(e,s,t)=>{"use strict";t.d(s,{H:()=>i,a:()=>o});var r=t(997),a=t(6689);let n=(0,a.createContext)();function i({children:e}){let[s,t]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),l=async()=>{let e=localStorage.getItem("token");if(e)try{let s=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${e}`}});if(s.ok){let e=await s.json();t(e.user)}else localStorage.removeItem("token")}catch(e){localStorage.removeItem("token")}o(!1)},c=async(e,s)=>{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),a=await r.json();return r.ok?(localStorage.setItem("token",a.token),t(a.user),{success:!0}):{success:!1,error:a.error}},d=async(e,s,r,a)=>{let n=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s,firstName:r,lastName:a})}),i=await n.json();return n.ok?(localStorage.setItem("token",i.token),t(i.user),{success:!0}):{success:!1,error:i.error}},h=async()=>{let e=localStorage.getItem("token");await fetch("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${e}`}}),localStorage.removeItem("token"),t(null)};return r.jsx(n.Provider,{value:{user:s,loading:i,login:c,register:d,logout:h,checkAuth:l},children:e})}let o=()=>(0,a.useContext)(n)},4749:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i,j:()=>o});var r=t(997),a=t(6689);let n=(0,a.createContext)();function i({children:e}){let[s,t]=(0,a.useState)([]),[i,o]=(0,a.useState)(!1),l=e=>{t(s=>s.filter(s=>s.id!==e))},c=s.reduce((e,s)=>e+s.price*s.quantity,0),d=s.reduce((e,s)=>e+s.quantity,0);return r.jsx(n.Provider,{value:{cart:s,addToCart:(e,s=1)=>{t(t=>t.find(s=>s.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+s}:t):[...t,{...e,quantity:s}])},removeFromCart:l,updateQuantity:(e,s)=>{if(s<=0){l(e);return}t(t=>t.map(t=>t.id===e?{...t,quantity:s}:t))},clearCart:()=>{t([])},cartTotal:c,cartCount:d},children:e})}let o=()=>(0,a.useContext)(n)},2351:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(997);t(108);var a=t(4309),n=t(4749),i=t(1664),o=t.n(i),l=t(1163),c=t(6689);function d({children:e}){let{user:s,logout:t}=(0,a.a)(),{cartCount:i}=(0,n.j)(),d=(0,l.useRouter)(),[h,x]=(0,c.useState)(!1),[m,u]=(0,c.useState)(""),p=e=>{e.preventDefault(),m.trim()&&d.push(`/products?search=${encodeURIComponent(m)}`)},j=[{name:"Home",href:"/"},{name:"Products",href:"/products"},{name:"Categories",href:"/categories"},{name:"About",href:"/about"}];return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsxs)("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)(o(),{href:"/",className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-8 h-8 text-primary-600",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})}),r.jsx("span",{className:"text-xl font-display font-bold text-secondary-900",children:"Melodic"})]}),r.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:j.map(e=>r.jsx(o(),{href:e.href,className:`nav-link ${d.pathname===e.href?"text-primary-600":""}`,children:e.name},e.name))}),r.jsx("form",{onSubmit:p,className:"hidden md:flex items-center",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search instruments...",value:m,onChange:e=>u(e.target.value),className:"w-64 pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-primary-500 focus:ring-1 focus:ring-primary-200 outline-none text-sm"}),r.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(o(),{href:"/cart",className:"relative p-2 text-secondary-700 hover:text-primary-600 transition-colors",children:[r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),i>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:i})]}),s?(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("button",{className:"flex items-center space-x-2 p-2 text-secondary-700 hover:text-primary-600 transition-colors",children:[r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.jsx("span",{className:"hidden lg:inline text-sm font-medium",children:s.firstName||s.email})]}),(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[r.jsx(o(),{href:"/orders",className:"block px-4 py-2 text-sm text-secondary-700 hover:bg-gray-100",children:"My Orders"}),r.jsx(o(),{href:"/account",className:"block px-4 py-2 text-sm text-secondary-700 hover:bg-gray-100",children:"Account Settings"}),s.isAdmin&&r.jsx(o(),{href:"/secret-admin",className:"block px-4 py-2 text-sm text-primary-600 hover:bg-gray-100",children:"Admin Panel"}),r.jsx("hr",{className:"my-2"}),r.jsx("button",{onClick:t,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Sign Out"})]})]}):r.jsx(o(),{href:"/login",className:"btn-primary text-sm py-2 px-4",children:"Sign In"}),r.jsx("button",{onClick:()=>x(!h),className:"md:hidden p-2 text-secondary-700",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),h&&r.jsx("div",{className:"md:hidden bg-white border-t",children:(0,r.jsxs)("div",{className:"px-4 py-3 space-y-3",children:[r.jsx("form",{onSubmit:p,className:"mb-4",children:r.jsx("input",{type:"text",placeholder:"Search instruments...",value:m,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-primary-500 outline-none"})}),j.map(e=>r.jsx(o(),{href:e.href,className:"block py-2 text-secondary-700 hover:text-primary-600",onClick:()=>x(!1),children:e.name},e.name))]})})]}),r.jsx("main",{className:"flex-grow",children:e}),r.jsx("footer",{className:"bg-secondary-900 text-white mt-16",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,r.jsxs)("div",{className:"col-span-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx("svg",{className:"w-8 h-8 text-primary-500",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})}),r.jsx("span",{className:"text-xl font-display font-bold",children:"Melodic"})]}),r.jsx("p",{className:"text-secondary-400 text-sm",children:"Your premier destination for quality musical instruments. From beginners to professionals."})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),(0,r.jsxs)("ul",{className:"space-y-2 text-secondary-400 text-sm",children:[r.jsx("li",{children:r.jsx(o(),{href:"/products",className:"hover:text-white transition-colors",children:"All Products"})}),r.jsx("li",{children:r.jsx(o(),{href:"/categories",className:"hover:text-white transition-colors",children:"Categories"})}),r.jsx("li",{children:r.jsx(o(),{href:"/about",className:"hover:text-white transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx(o(),{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Categories"}),(0,r.jsxs)("ul",{className:"space-y-2 text-secondary-400 text-sm",children:[r.jsx("li",{children:r.jsx(o(),{href:"/products?category=guitars",className:"hover:text-white transition-colors",children:"Guitars"})}),r.jsx("li",{children:r.jsx(o(),{href:"/products?category=pianos-keyboards",className:"hover:text-white transition-colors",children:"Pianos & Keyboards"})}),r.jsx("li",{children:r.jsx(o(),{href:"/products?category=drums-percussion",className:"hover:text-white transition-colors",children:"Drums & Percussion"})}),r.jsx("li",{children:r.jsx(o(),{href:"/products?category=wind-instruments",className:"hover:text-white transition-colors",children:"Wind Instruments"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Contact Us"}),(0,r.jsxs)("ul",{className:"space-y-2 text-secondary-400 text-sm",children:[(0,r.jsxs)("li",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("span",{children:"support@melodic.com"})]}),(0,r.jsxs)("li",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),r.jsx("span",{children:"1-800-MELODIC"})]})]})]})]}),r.jsx("div",{className:"border-t border-secondary-800 mt-8 pt-8 text-center text-secondary-400 text-sm",children:r.jsx("p",{children:"\xa9 2026 Melodic Instruments. All rights reserved."})})]})})]})}function h({Component:e,pageProps:s}){return r.jsx(a.H,{children:r.jsx(n.Z,{children:r.jsx(d,{children:r.jsx(e,{...s})})})})}},108:()=>{}};