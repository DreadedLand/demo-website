(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[750],{8758:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orders/[id]",function(){return r(5855)}])},5855:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return x}});var t=r(5893),a=r(9008),l=r.n(a),n=r(1664),d=r.n(n),i=r(7294),c=r(1163);function x(){var e;let{id:s,success:r}=(0,c.useRouter)().query,[a,n]=(0,i.useState)(null),[x,o]=(0,i.useState)(!0);(0,i.useEffect)(()=>{s&&m()},[s]);let m=async()=>{let e=await fetch("/api/orders/".concat(s));e.ok&&n(await e.json()),o(!1)};return x?(0,t.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),(0,t.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})}):a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l(),{children:(0,t.jsxs)("title",{children:["Order #",a.id," - Melodic Instruments"]})}),(0,t.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-green-800",children:"Order placed successfully!"}),(0,t.jsx)("p",{className:"text-sm text-green-600",children:"Thank you for your purchase. You will receive a confirmation email shortly."})]})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d(),{href:"/orders",className:"text-primary-600 hover:underline text-sm mb-2 block",children:"â† Back to Orders"}),(0,t.jsxs)("h1",{className:"text-2xl font-display font-bold text-secondary-900",children:["Order #",a.id]})]}),(0,t.jsx)("span",{className:"px-4 py-2 rounded-full text-sm font-medium capitalize ".concat((e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-700";case"processing":return"bg-blue-100 text-blue-700";case"shipped":return"bg-purple-100 text-purple-700";case"delivered":return"bg-green-100 text-green-700";case"cancelled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}})(a.status)),children:a.status})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"font-semibold text-secondary-900 mb-4",children:"Items"}),(0,t.jsx)("div",{className:"space-y-4",children:null===(e=a.items)||void 0===e?void 0:e.map(e=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:(0,t.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)(d(),{href:"/products/".concat(e.slug),className:"font-medium text-secondary-900 hover:text-primary-600",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-secondary-500",children:["Qty: ",e.quantity]})]}),(0,t.jsxs)("p",{className:"font-medium text-secondary-900",children:["$",(e.price*e.quantity).toLocaleString()]})]},e.id))})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"font-semibold text-secondary-900 mb-4",children:"Shipping Address"}),(0,t.jsxs)("p",{className:"text-secondary-600",children:[a.shipping_address,(0,t.jsx)("br",{}),a.shipping_city,", ",a.shipping_zip,(0,t.jsx)("br",{}),a.shipping_country]})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{className:"p-6 bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex justify-between text-lg font-bold text-secondary-900",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{children:["$",a.total.toLocaleString()]})]}),(0,t.jsxs)("p",{className:"text-sm text-secondary-500 mt-2",children:["Ordered on ",new Date(a.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]})]}):(0,t.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-secondary-900 mb-4",children:"Order not found"}),(0,t.jsx)(d(),{href:"/orders",className:"btn-primary",children:"View All Orders"})]})}},9008:function(e,s,r){e.exports=r(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8758)}),_N_E=e.O()}]);