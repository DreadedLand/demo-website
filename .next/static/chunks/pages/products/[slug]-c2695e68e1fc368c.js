(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[905],{5025:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[slug]",function(){return a(182)}])},182:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var l=a(5893),r=a(9008),t=a.n(r),c=a(1664),n=a.n(c),i=a(7294),d=a(1163),o=a(977);function x(){let e=(0,d.useRouter)(),{slug:s}=e.query,{addToCart:a}=(0,o.j)(),[r,c]=(0,i.useState)(null),[x,m]=(0,i.useState)(!0),[h,u]=(0,i.useState)(1),[p,g]=(0,i.useState)([]);(0,i.useEffect)(()=>{s&&j()},[s]);let j=async()=>{m(!0);try{let a=await fetch("/api/products/".concat(s));if(a.ok){let e=await a.json();c(e);let s=await fetch("/api/products?category=".concat(e.category_slug,"&limit=4")),l=await s.json();g(l.filter(s=>s.id!==e.id).slice(0,3))}else e.push("/products")}catch(s){e.push("/products")}m(!1)};return x?(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsx)("div",{className:"animate-pulse",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,l.jsx)("div",{className:"h-96 bg-gray-200 rounded-xl"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,l.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),(0,l.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),(0,l.jsx)("div",{className:"h-24 bg-gray-200 rounded"}),(0,l.jsx)("div",{className:"h-12 bg-gray-200 rounded w-1/2"})]})]})})}):r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(t(),{children:[(0,l.jsxs)("title",{children:[r.name," - Melodic Instruments"]}),(0,l.jsx)("meta",{name:"description",content:r.description})]}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-secondary-500 mb-8",children:[(0,l.jsx)(n(),{href:"/",className:"hover:text-primary-600",children:"Home"}),(0,l.jsx)("span",{children:"/"}),(0,l.jsx)(n(),{href:"/products",className:"hover:text-primary-600",children:"Products"}),(0,l.jsx)("span",{children:"/"}),(0,l.jsx)(n(),{href:"/products?category=".concat(r.category_slug),className:"hover:text-primary-600",children:r.category_name}),(0,l.jsx)("span",{children:"/"}),(0,l.jsx)("span",{className:"text-secondary-900",children:r.name})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"aspect-square bg-gray-100 rounded-xl overflow-hidden",children:(0,l.jsx)("img",{src:r.image_url,alt:r.name,className:"w-full h-full object-cover"})}),1===r.featured&&(0,l.jsx)("span",{className:"absolute top-4 left-4 bg-primary-600 text-white text-sm font-semibold px-3 py-1 rounded",children:"Featured"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-primary-600 font-medium uppercase tracking-wide text-sm",children:r.category_name}),(0,l.jsx)("h1",{className:"text-3xl md:text-4xl font-display font-bold text-secondary-900 mt-2",children:r.name}),(0,l.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,l.jsxs)("span",{className:"text-3xl font-bold text-secondary-900",children:["$",r.price.toLocaleString()]}),r.stock>0?(0,l.jsxs)("span",{className:"text-green-600 font-medium",children:[r.stock," in stock"]}):(0,l.jsx)("span",{className:"text-red-600 font-medium",children:"Out of stock"})]}),(0,l.jsx)("p",{className:"text-secondary-600 mt-6 leading-relaxed",children:r.description}),r.stock>0&&(0,l.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("span",{className:"text-secondary-700 font-medium",children:"Quantity:"}),(0,l.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[(0,l.jsx)("button",{onClick:()=>u(Math.max(1,h-1)),className:"px-4 py-2 text-secondary-600 hover:bg-gray-100 transition-colors",children:"-"}),(0,l.jsx)("span",{className:"px-4 py-2 font-medium",children:h}),(0,l.jsx)("button",{onClick:()=>u(Math.min(r.stock,h+1)),className:"px-4 py-2 text-secondary-600 hover:bg-gray-100 transition-colors",children:"+"})]})]}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{onClick:()=>{r&&a(r,h)},className:"btn-primary flex-1",children:"Add to Cart"}),(0,l.jsx)(n(),{href:"/cart",className:"btn-secondary",children:"View Cart"})]})]}),(0,l.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[(0,l.jsx)("h3",{className:"font-semibold text-secondary-900 mb-4",children:"Why Choose This Instrument"}),(0,l.jsxs)("ul",{className:"space-y-3",children:[(0,l.jsxs)("li",{className:"flex items-center gap-3 text-secondary-600",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Free shipping on orders over $500"]}),(0,l.jsxs)("li",{className:"flex items-center gap-3 text-secondary-600",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"30-day hassle-free returns"]}),(0,l.jsxs)("li",{className:"flex items-center gap-3 text-secondary-600",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"1-year warranty included"]}),(0,l.jsxs)("li",{className:"flex items-center gap-3 text-secondary-600",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Expert customer support"]})]})]})]})]}),p.length>0&&(0,l.jsxs)("div",{className:"mt-16",children:[(0,l.jsx)("h2",{className:"section-title mb-8",children:"Related Products"}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(e=>(0,l.jsxs)(n(),{href:"/products/".concat(e.slug),className:"card group overflow-hidden",children:[(0,l.jsx)("div",{className:"relative h-48 bg-gray-100",children:(0,l.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-secondary-900 group-hover:text-primary-600",children:e.name}),(0,l.jsxs)("span",{className:"text-lg font-bold text-secondary-900 mt-1 block",children:["$",e.price.toLocaleString()]})]})]},e.id))})]})]})]}):null}},9008:function(e,s,a){e.exports=a(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5025)}),_N_E=e.O()}]);